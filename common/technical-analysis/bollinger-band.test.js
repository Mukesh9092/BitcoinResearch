import { bollingerBand } from './bollinger-band'

import testData from './_data'

import { log } from '../log'

test('bollingerBand', () => {
  const actual = testData
  const input = 'close'
  const length = 14
  const multiplier = 2
  const expected = [
    [null, null, null],
    [null, null, null],
    [null, null, null],
    [null, null, null],
    [null, null, null],
    [null, null, null],
    [null, null, null],
    [null, null, null],
    [null, null, null],
    [null, null, null],
    [null, null, null],
    [null, null, null],
    [null, null, null],
    [null, null, null],
    [48.60714285714285, 50.21486324177596, 46.999422472509735],
    [48.59799999999999, 50.19674469987694, 46.999255300123046],
    [48.64124999999999, 50.28174644054126, 47.00075355945872],
    [48.6735294117647, 50.312926245366, 47.034132578163394],
    [48.694999999999986, 50.29655144561983, 47.09344855438014],
    [48.73736842105262, 50.28060606237116, 47.19413077973408],
    [48.813999999999986, 50.60720880050198, 47.02079119949799],
    [48.905714285714275, 50.99821266099428, 46.81321591043427],
    [49.008636363636356, 51.291999990076405, 46.725272737196306],
    [49.08, 51.0217653687438, 47.138234631256196],
    [49.159166666666664, 51.146332631408555, 47.17200070192477],
    [49.2452, 51.369237726533186, 47.12116227346681],
    [49.32846153846154, 51.58519456565903, 47.07172851126405],
    [49.42296296296296, 51.83700111920247, 47.008924806723456],
    [49.486071428571435, 51.61979695341867, 47.3523459037242],
    [49.506551724137935, 51.354760836515894, 47.65834261175998],
    [49.468666666666664, 51.54987510683516, 47.38745822649817],
    [49.45193548387097, 51.58001050527019, 47.32386046247175],
    [49.4371875, 51.581099914153256, 47.293275085846744],
    [49.446363636363635, 51.56323879554531, 47.32948847718196],
  ]

  expect(bollingerBand(actual, input, length, multiplier)).toEqual(expected)
})
