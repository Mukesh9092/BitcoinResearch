{"id":"liCR","dependencies":[{"name":"/home/tom/Code/Code9/SmallCrypto/platform/services/api/.babelrc","includedInParent":true,"mtime":1576067858414},{"name":"/home/tom/Code/Code9/SmallCrypto/platform/services/api/package.json","includedInParent":true,"mtime":1576066661334},{"name":"../environment","loc":{"line":9,"column":25},"parent":"/home/tom/Code/Code9/SmallCrypto/platform/services/api/src/common/apollo/client.js","resolved":"/home/tom/Code/Code9/SmallCrypto/platform/services/api/src/common/environment.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getApolloClient=void 0;var e=s(require(\"dotenv\")),r=s(require(\"cross-fetch\")),t=require(\"lodash\"),o=s(require(\"apollo-client\")),i=require(\"apollo-link-http\"),n=require(\"apollo-cache-inmemory\"),l=require(\"../environment\");function s(e){return e&&e.__esModule?e:{default:e}}e.default.config();const{API_HOST:c,API_PORT:u}=process.env,a=(0,t.memoize)((e={})=>{const t=(0,l.isServer)(),s=e.cache||new n.InMemoryCache,a=e.uri||t&&`http://${c}:${u}/`||\"http://api.localtest.me\";t||s.restore(window.__APOLLO_STATE__);const p=e.link||new i.HttpLink({uri:a,fetch:r.default});return new o.default({cache:s,link:p,ssrMode:(0,l.isServer)()})});exports.getApolloClient=a;"},"sourceMaps":{"js":{"mappings":[{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":0}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":13}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":20}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":35}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":43}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":56}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":57}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":64}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":68}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":76}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":97}},{"source":"common/apollo/client.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"common/apollo/client.js","original":{"line":1,"column":0},"generated":{"line":1,"column":103}},{"source":"common/apollo/client.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"common/apollo/client.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"common/apollo/client.js","original":{"line":1,"column":0},"generated":{"line":1,"column":115}},{"source":"common/apollo/client.js","original":{"line":2,"column":0},"generated":{"line":1,"column":126}},{"source":"common/apollo/client.js","original":{"line":2,"column":0},"generated":{"line":1,"column":128}},{"source":"common/apollo/client.js","original":{"line":2,"column":0},"generated":{"line":1,"column":130}},{"source":"common/apollo/client.js","original":{"line":2,"column":0},"generated":{"line":1,"column":138}},{"source":"common/apollo/client.js","original":{"line":3,"column":0},"generated":{"line":1,"column":154}},{"source":"common/apollo/client.js","original":{"line":3,"column":0},"generated":{"line":1,"column":156}},{"source":"common/apollo/client.js","original":{"line":3,"column":0},"generated":{"line":1,"column":164}},{"source":"common/apollo/client.js","original":{"line":5,"column":0},"generated":{"line":1,"column":174}},{"source":"common/apollo/client.js","original":{"line":5,"column":0},"generated":{"line":1,"column":176}},{"source":"common/apollo/client.js","original":{"line":5,"column":0},"generated":{"line":1,"column":178}},{"source":"common/apollo/client.js","original":{"line":5,"column":0},"generated":{"line":1,"column":186}},{"source":"common/apollo/client.js","original":{"line":6,"column":0},"generated":{"line":1,"column":204}},{"source":"common/apollo/client.js","original":{"line":6,"column":0},"generated":{"line":1,"column":206}},{"source":"common/apollo/client.js","original":{"line":6,"column":0},"generated":{"line":1,"column":214}},{"source":"common/apollo/client.js","original":{"line":7,"column":0},"generated":{"line":1,"column":234}},{"source":"common/apollo/client.js","original":{"line":7,"column":0},"generated":{"line":1,"column":236}},{"source":"common/apollo/client.js","original":{"line":7,"column":0},"generated":{"line":1,"column":244}},{"source":"common/apollo/client.js","original":{"line":9,"column":0},"generated":{"line":1,"column":269}},{"source":"common/apollo/client.js","original":{"line":9,"column":0},"generated":{"line":1,"column":271}},{"source":"common/apollo/client.js","original":{"line":9,"column":0},"generated":{"line":1,"column":279}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":297}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":306}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":308}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":311}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":318}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":321}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":323}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":334}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":336}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":337}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":345}},{"source":"common/apollo/client.js","name":"dotenv","original":{"line":11,"column":0},"generated":{"line":1,"column":348}},{"source":"common/apollo/client.js","name":"config","original":{"line":11,"column":7},"generated":{"line":1,"column":350}},{"source":"common/apollo/client.js","name":"config","original":{"line":11,"column":7},"generated":{"line":1,"column":358}},{"source":"common/apollo/client.js","original":{"line":13,"column":0},"generated":{"line":1,"column":367}},{"source":"common/apollo/client.js","original":{"line":13,"column":6},"generated":{"line":1,"column":373}},{"source":"common/apollo/client.js","name":"API_HOST","original":{"line":13,"column":8},"generated":{"line":1,"column":382}},{"source":"common/apollo/client.js","original":{"line":13,"column":6},"generated":{"line":1,"column":384}},{"source":"common/apollo/client.js","name":"API_PORT","original":{"line":13,"column":18},"generated":{"line":1,"column":393}},{"source":"common/apollo/client.js","name":"process","original":{"line":13,"column":31},"generated":{"line":1,"column":396}},{"source":"common/apollo/client.js","name":"env","original":{"line":13,"column":39},"generated":{"line":1,"column":404}},{"source":"common/apollo/client.js","name":"getApolloClient","original":{"line":15,"column":13},"generated":{"line":1,"column":408}},{"source":"common/apollo/client.js","original":{"line":15,"column":31},"generated":{"line":1,"column":411}},{"source":"common/apollo/client.js","original":{"line":15,"column":39},"generated":{"line":1,"column":413}},{"source":"common/apollo/client.js","original":{"line":15,"column":39},"generated":{"line":1,"column":415}},{"source":"common/apollo/client.js","original":{"line":15,"column":39},"generated":{"line":1,"column":424}},{"source":"common/apollo/client.js","name":"options","original":{"line":15,"column":40},"generated":{"line":1,"column":425}},{"source":"common/apollo/client.js","original":{"line":15,"column":50},"generated":{"line":1,"column":427}},{"source":"common/apollo/client.js","name":"server","original":{"line":16,"column":8},"generated":{"line":1,"column":433}},{"source":"common/apollo/client.js","name":"server","original":{"line":16,"column":8},"generated":{"line":1,"column":439}},{"source":"common/apollo/client.js","original":{"line":16,"column":17},"generated":{"line":1,"column":442}},{"source":"common/apollo/client.js","original":{"line":16,"column":2},"generated":{"line":1,"column":444}},{"source":"common/apollo/client.js","original":{"line":16,"column":2},"generated":{"line":1,"column":446}},{"source":"common/apollo/client.js","name":"cache","original":{"line":17,"column":8},"generated":{"line":1,"column":458}},{"source":"common/apollo/client.js","name":"options","original":{"line":17,"column":16},"generated":{"line":1,"column":460}},{"source":"common/apollo/client.js","name":"cache","original":{"line":17,"column":24},"generated":{"line":1,"column":462}},{"source":"common/apollo/client.js","original":{"line":17,"column":33},"generated":{"line":1,"column":469}},{"source":"common/apollo/client.js","name":"InMemoryCache","original":{"line":17,"column":37},"generated":{"line":1,"column":473}},{"source":"common/apollo/client.js","original":{"line":17,"column":33},"generated":{"line":1,"column":475}},{"source":"common/apollo/client.js","name":"uri","original":{"line":18,"column":8},"generated":{"line":1,"column":489}},{"source":"common/apollo/client.js","name":"options","original":{"line":18,"column":14},"generated":{"line":1,"column":491}},{"source":"common/apollo/client.js","name":"uri","original":{"line":18,"column":22},"generated":{"line":1,"column":493}},{"source":"common/apollo/client.js","name":"server","original":{"line":18,"column":30},"generated":{"line":1,"column":498}},{"source":"common/apollo/client.js","name":"API_HOST","original":{"line":18,"column":50},"generated":{"line":1,"column":511}},{"source":"common/apollo/client.js","name":"API_PORT","original":{"line":18,"column":62},"generated":{"line":1,"column":516}},{"source":"common/apollo/client.js","original":{"line":18,"column":79},"generated":{"line":1,"column":522}},{"source":"common/apollo/client.js","name":"server","original":{"line":20,"column":7},"generated":{"line":1,"column":548}},{"source":"common/apollo/client.js","name":"cache","original":{"line":22,"column":4},"generated":{"line":1,"column":551}},{"source":"common/apollo/client.js","name":"restore","original":{"line":22,"column":10},"generated":{"line":1,"column":553}},{"source":"common/apollo/client.js","name":"window","original":{"line":22,"column":18},"generated":{"line":1,"column":561}},{"source":"common/apollo/client.js","name":"__APOLLO_STATE__","original":{"line":22,"column":25},"generated":{"line":1,"column":568}},{"source":"common/apollo/client.js","name":"link","original":{"line":25,"column":8},"generated":{"line":1,"column":586}},{"source":"common/apollo/client.js","name":"link","original":{"line":25,"column":8},"generated":{"line":1,"column":592}},{"source":"common/apollo/client.js","name":"options","original":{"line":25,"column":15},"generated":{"line":1,"column":594}},{"source":"common/apollo/client.js","name":"link","original":{"line":25,"column":23},"generated":{"line":1,"column":596}},{"source":"common/apollo/client.js","original":{"line":25,"column":31},"generated":{"line":1,"column":602}},{"source":"common/apollo/client.js","name":"HttpLink","original":{"line":25,"column":35},"generated":{"line":1,"column":606}},{"source":"common/apollo/client.js","original":{"line":25,"column":31},"generated":{"line":1,"column":608}},{"source":"common/apollo/client.js","original":{"line":25,"column":44},"generated":{"line":1,"column":617}},{"source":"common/apollo/client.js","name":"uri","original":{"line":25,"column":46},"generated":{"line":1,"column":618}},{"source":"common/apollo/client.js","name":"uri","original":{"line":25,"column":46},"generated":{"line":1,"column":622}},{"source":"common/apollo/client.js","name":"fetch","original":{"line":25,"column":51},"generated":{"line":1,"column":624}},{"source":"common/apollo/client.js","name":"fetch","original":{"line":25,"column":51},"generated":{"line":1,"column":630}},{"source":"common/apollo/client.js","name":"fetch","original":{"line":25,"column":51},"generated":{"line":1,"column":632}},{"source":"common/apollo/client.js","name":"client","original":{"line":33,"column":9},"generated":{"line":1,"column":642}},{"source":"common/apollo/client.js","original":{"line":27,"column":17},"generated":{"line":1,"column":649}},{"source":"common/apollo/client.js","name":"ApolloClient","original":{"line":27,"column":21},"generated":{"line":1,"column":653}},{"source":"common/apollo/client.js","original":{"line":27,"column":17},"generated":{"line":1,"column":655}},{"source":"common/apollo/client.js","original":{"line":27,"column":34},"generated":{"line":1,"column":663}},{"source":"common/apollo/client.js","name":"cache","original":{"line":28,"column":4},"generated":{"line":1,"column":664}},{"source":"common/apollo/client.js","name":"cache","original":{"line":28,"column":4},"generated":{"line":1,"column":670}},{"source":"common/apollo/client.js","name":"link","original":{"line":29,"column":4},"generated":{"line":1,"column":672}},{"source":"common/apollo/client.js","name":"link","original":{"line":29,"column":4},"generated":{"line":1,"column":677}},{"source":"common/apollo/client.js","name":"ssrMode","original":{"line":30,"column":4},"generated":{"line":1,"column":679}},{"source":"common/apollo/client.js","original":{"line":30,"column":13},"generated":{"line":1,"column":688}},{"source":"common/apollo/client.js","original":{"line":30,"column":13},"generated":{"line":1,"column":690}},{"source":"common/apollo/client.js","original":{"line":30,"column":13},"generated":{"line":1,"column":692}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":708}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":716}},{"source":"common/apollo/client.js","original":{"line":15,"column":7},"generated":{"line":1,"column":732}}],"sources":{"common/apollo/client.js":"import dotenv from 'dotenv'\nimport fetch from 'cross-fetch'\nimport { memoize } from 'lodash'\n\nimport ApolloClient from 'apollo-client'\nimport { HttpLink } from 'apollo-link-http'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\n\nimport { isServer } from '../environment'\n\ndotenv.config()\n\nconst { API_HOST, API_PORT } = process.env\n\nexport const getApolloClient = memoize((options = {}) => {\n  const server = isServer()\n  const cache = options.cache || new InMemoryCache()\n  const uri = options.uri || (server && `http://${API_HOST}:${API_PORT}/`) || `http://api.localtest.me`\n\n  if (!server) {\n    // eslint-disable-next-line no-underscore-dangle\n    cache.restore(window.__APOLLO_STATE__)\n  }\n\n  const link = options.link || new HttpLink({ uri, fetch })\n\n  const client = new ApolloClient({\n    cache,\n    link,\n    ssrMode: isServer(),\n  })\n\n  return client\n})\n"},"lineCount":null}},"error":null,"hash":"5a7b8dc8e5d8dc67d5b1c07bd7346c92","cacheData":{"env":{}}}