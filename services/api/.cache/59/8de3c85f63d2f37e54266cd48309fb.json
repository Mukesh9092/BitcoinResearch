{"id":"zxsU","dependencies":[{"name":"/home/tom/Code/Code9/SmallCrypto/platform/services/api/.babelrc","includedInParent":true,"mtime":1576067858414},{"name":"/home/tom/Code/Code9/SmallCrypto/platform/services/api/package.json","includedInParent":true,"mtime":1576066661334}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;const{MARKETSTORE_API_HOST:e,MARKETSTORE_API_PORT:t}=process.env,s=\"BTC\";var a=async(s,a,r,o)=>{const p=`http://${e}:${t}/markets`,T=await fetch(p),c=await T.text();return JSON.parse(c).map(e=>({base:e,quote:\"BTC\"}))};exports.default=a;"},"sourceMaps":{"js":{"mappings":[{"source":"resolvers/Query/getMarkets.ts","original":{"line":29,"column":1},"generated":{"line":1,"column":0}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":29,"column":1},"generated":{"line":1,"column":13}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":29,"column":1},"generated":{"line":1,"column":20}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":29,"column":1},"generated":{"line":1,"column":35}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":29,"column":1},"generated":{"line":1,"column":43}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":29,"column":1},"generated":{"line":1,"column":56}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":29,"column":1},"generated":{"line":1,"column":57}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":29,"column":1},"generated":{"line":1,"column":64}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":29,"column":1},"generated":{"line":1,"column":68}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":29,"column":1},"generated":{"line":1,"column":76}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":29,"column":1},"generated":{"line":1,"column":89}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":1,"column":6},"generated":{"line":1,"column":97}},{"source":"resolvers/Query/getMarkets.ts","name":"MARKETSTORE_API_HOST","original":{"line":1,"column":8},"generated":{"line":1,"column":118}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":1,"column":6},"generated":{"line":1,"column":120}},{"source":"resolvers/Query/getMarkets.ts","name":"MARKETSTORE_API_PORT","original":{"line":1,"column":30},"generated":{"line":1,"column":141}},{"source":"resolvers/Query/getMarkets.ts","name":"process","original":{"line":1,"column":55},"generated":{"line":1,"column":144}},{"source":"resolvers/Query/getMarkets.ts","name":"env","original":{"line":1,"column":63},"generated":{"line":1,"column":152}},{"source":"resolvers/Query/getMarkets.ts","name":"quote","original":{"line":4,"column":6},"generated":{"line":1,"column":156}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":4,"column":14},"generated":{"line":1,"column":158}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":6,"column":15},"generated":{"line":1,"column":164}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":6,"column":15},"generated":{"line":1,"column":168}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":6,"column":15},"generated":{"line":1,"column":170}},{"source":"resolvers/Query/getMarkets.ts","name":"_parent","original":{"line":6,"column":22},"generated":{"line":1,"column":176}},{"source":"resolvers/Query/getMarkets.ts","name":"_args","original":{"line":6,"column":36},"generated":{"line":1,"column":178}},{"source":"resolvers/Query/getMarkets.ts","name":"_context","original":{"line":6,"column":48},"generated":{"line":1,"column":180}},{"source":"resolvers/Query/getMarkets.ts","name":"_info","original":{"line":6,"column":63},"generated":{"line":1,"column":182}},{"source":"resolvers/Query/getMarkets.ts","name":"host","original":{"line":7,"column":8},"generated":{"line":1,"column":187}},{"source":"resolvers/Query/getMarkets.ts","name":"url","original":{"line":9,"column":8},"generated":{"line":1,"column":193}},{"source":"resolvers/Query/getMarkets.ts","name":"MARKETSTORE_API_HOST","original":{"line":7,"column":15},"generated":{"line":1,"column":205}},{"source":"resolvers/Query/getMarkets.ts","name":"MARKETSTORE_API_PORT","original":{"line":8,"column":15},"generated":{"line":1,"column":210}},{"source":"resolvers/Query/getMarkets.ts","name":"fetchResult","original":{"line":11,"column":8},"generated":{"line":1,"column":222}},{"source":"resolvers/Query/getMarkets.ts","name":"fetch","original":{"line":11,"column":28},"generated":{"line":1,"column":230}},{"source":"resolvers/Query/getMarkets.ts","name":"url","original":{"line":11,"column":34},"generated":{"line":1,"column":236}},{"source":"resolvers/Query/getMarkets.ts","name":"fetchResultText","original":{"line":14,"column":8},"generated":{"line":1,"column":239}},{"source":"resolvers/Query/getMarkets.ts","name":"fetchResult","original":{"line":14,"column":32},"generated":{"line":1,"column":247}},{"source":"resolvers/Query/getMarkets.ts","name":"text","original":{"line":14,"column":44},"generated":{"line":1,"column":249}},{"source":"resolvers/Query/getMarkets.ts","name":"output","original":{"line":28,"column":9},"generated":{"line":1,"column":256}},{"source":"resolvers/Query/getMarkets.ts","name":"JSON","original":{"line":17,"column":26},"generated":{"line":1,"column":263}},{"source":"resolvers/Query/getMarkets.ts","name":"parse","original":{"line":17,"column":31},"generated":{"line":1,"column":268}},{"source":"resolvers/Query/getMarkets.ts","name":"fetchResultText","original":{"line":17,"column":37},"generated":{"line":1,"column":274}},{"source":"resolvers/Query/getMarkets.ts","name":"map","original":{"line":20,"column":33},"generated":{"line":1,"column":277}},{"source":"resolvers/Query/getMarkets.ts","name":"base","original":{"line":20,"column":38},"generated":{"line":1,"column":281}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":21,"column":11},"generated":{"line":1,"column":285}},{"source":"resolvers/Query/getMarkets.ts","name":"base","original":{"line":22,"column":6},"generated":{"line":1,"column":286}},{"source":"resolvers/Query/getMarkets.ts","name":"base","original":{"line":22,"column":6},"generated":{"line":1,"column":291}},{"source":"resolvers/Query/getMarkets.ts","name":"quote","original":{"line":23,"column":6},"generated":{"line":1,"column":293}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":4,"column":14},"generated":{"line":1,"column":299}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":29,"column":1},"generated":{"line":1,"column":309}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":29,"column":1},"generated":{"line":1,"column":317}},{"source":"resolvers/Query/getMarkets.ts","original":{"line":29,"column":1},"generated":{"line":1,"column":325}}],"sources":{"resolvers/Query/getMarkets.ts":"const { MARKETSTORE_API_HOST, MARKETSTORE_API_PORT } = process.env\n\n// TODO: Get from somewhere.\nconst quote = 'BTC'\n\nexport default async (_parent: any, _args: any, _context: any, _info: any) => {\n  const host = MARKETSTORE_API_HOST\n  const port = MARKETSTORE_API_PORT\n  const url = `http://${host}:${port}/markets`\n\n  const fetchResult = await fetch(url)\n  // console.log('getMarkets fetchResult', fetchResult)\n\n  const fetchResultText = await fetchResult.text()\n  // console.log(`getMarkets fetchResultText \"${fetchResultText}\"`, typeof fetchResultText)\n\n  const fetchResultJSON = JSON.parse(fetchResultText)\n  // console.log('getMarkets fetchResultJSON', fetchResultJSON)\n\n  const output = fetchResultJSON.map((base: string) => {\n    return {\n      base,\n      quote,\n    }\n  })\n  // console.log('getMarkets output', output)\n\n  return output\n}\n"},"lineCount":null}},"error":null,"hash":"14519055ae2806c707e008816fc09935","cacheData":{"env":{}}}